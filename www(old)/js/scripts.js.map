{"version":3,"names":[],"mappings":"","sources":["scripts.js"],"sourcesContent":["/* ******************** */\n$(document).ready(function() {\n\tSliderFlex('#slider', 125000, 1000, '#slider-nav');\n\n\t$('.ask-question').click(function(e){\n        e.preventDefault();\n        $('.ask-question-form').css('display', 'block');\n        $(this).css('display', 'none');\n    });\n    $('.ask-question-form .order-button').click(function(e){\n\t\te.preventDefault();\n        $('.ask-question-success').css('display', 'flex');\n        $('.ask-question-form').css('display', 'none');\n    });\n\t$('.ask-question-success').click(function(){\n        $('.ask-question').css('display', 'block');\n        $(this).css('display', 'none');\n    });\n\t$('.ask-close').click(function(){\n\t\t$('.ask-question-form').css('display', 'none');\n\t\t$('.ask-question').css('display', 'block');\n\t});\n\t$('.mobile-menu__button').click(function(){\n\t\t$('.mobile-menu__popup-menu').css('display', 'flex');\n\t});\n\t$('.mobile-menu__close').click(function(){\n\t\t$('.mobile-menu__popup-menu').css('display', 'none');\n\t});\n\t$('.rating > div').hover(\n\t\t//При наведении\n\t\tfunction(){\n\t\t\tvar stars = $('.rating > div'), selected = $(this);\n\t\t\t//Если звезды были нажаты\n\t\t\tstars.each(function(){\n\t\t\t\t$(this).removeClass('active-star').addClass('inactive-star');\n\t\t\t})\n\t\t\t//Выделяем все звезды вплоть до нажатой\n\t\t\tstars.each(function(){\n\t\t\t\tif($(this).index() <= selected.index()) $(this).addClass('active-star');\n\t\t\t});\n\t\t},\n\t\t//Без наведения\n\t\tfunction(){\n\t\t\tvar stars = $('.rating > div');\n\t\t\t//Снимаем выделение со всех звезд, кроме нажатых\n\t\t\tstars.each(function(){\n\t\t\t\t!$(this).hasClass('clicked') ? $(this).removeClass('active-star').addClass('inactive-star') : $(this).addClass('active-star').removeClass('inactive-star');\n\t\t\t});\n\t\t}\n\t);\n\t$('.rating > div').click(function(){\n\t\tvar stars = $('.rating > div'), selected = $(this), selectedIndex = selected.index() + 1;\n\t\tstars.each(function(){\n\t\t\t$(this).removeClass('clicked active-star').addClass('inactive-star')\n\t\t\t$(this).index() <= selected.index() ? $(this).removeClass('inactive-star').addClass('active-star clicked') : '';\n\t\t});\n\t\t$('#star' + selectedIndex).click();\n\t});\n\t$('.answer-link').click(function(e){\n\t\te.preventDefault();\n\t\t$(this).toggleClass('active').hasClass('active') ? $(this).text('Свернуть ответ') : $(this).text('Посмотреть ответ');\n\t\t$(this).find('+ .answer').stop(false, false).slideToggle();\n\t});\n\t//Раскрытие списков в ценах\n\t$('.category-slider').click(function(){\n\t\t$(this).parent().toggleClass('underline-low');\n\t\t$(this).toggleClass('active').find('+ .category-wrapper').stop(false, false).slideToggle();\n\t});\n});\n\n//Хорошо бы это дело перенести в плагин\nfunction SliderFlex(select, speedSlide = 1000, speedTransition = 200, sliderNav) {\n\tvar slider = $(select);\n\tslider.find('.active_slide').removeClass('active_slide');\n\tvar firstSlide = $(select).find('.slider_wrap > *').first();\n\tfirstSlide.addClass('active_slide');\n\tvar countSlides = $(select).find('.slider_wrap > *').length;\n\tvar interval;\n\t//Создание динамических переключателей\n\tvar str = '';\n\tfor(i = 0; i < countSlides; i++){\n\t\tstr += '<div></div>';\n\t}\n\t$(sliderNav).append(str).find('> *').first().addClass('active');\n\t\n\t//Выставляем новую ширину элемента\n\tvar percente = 100 * (countSlides+1);\n\tslider.find('.slider_wrap').css('width', percente+'%');\n\t//Копируем первый слайд в конец списка\n\tslider.find('.slider_wrap').append(firstSlide.clone());\n\t\n\tinterval = setInterval(SlideMove, speedSlide);\n\t\n\t//Навигация\n\t$(sliderNav).find('> *').click(function() {\n\t\tvar index = $(this).index();\n\t\tvar percent = -100 * index;\n\t\t\n\t\tslider.find('.slider_wrap').stop();\n\t\tslider.find('.slider_wrap').animate({left: percent+'%'}, speedTransition);\n\t\t//У всех элементов убираем активность\n\t\t$(sliderNav).find('> *').removeClass('active');\n\t\tslider.find('.slider_wrap > *').removeClass('active_slide');\n\t\t//Добавляем активность нажатому переключателю и слайду\n        $(this).addClass('active');\n\t\tslider.find('.slider_slide').eq($(this).index()).addClass('active_slide');\n\t\t//Пересоздаём интервал, чтобы сбросить время\n\t\tclearInterval(interval);\n\t\tinterval = setInterval(SlideMove, speedSlide);\n\t});\n\t\n\tfunction SlideMove()\n\t{\n\t\tvar maxPercent = -100 * (countSlides-1);\n\t\tslider.find('.slider_wrap').animate({left: '-=100%'}, speedTransition);\n\t\tif (parseInt(slider.find('.slider_wrap')[0].style.left, 10) <= maxPercent)\n\t\t\tslider.find('.slider_wrap').animate({left: '0%'}, 0);\n\t\t//Сменяем активные слайды\n\t\tslider.find('.active_slide').removeClass('active_slide').next().addClass('active_slide');\n\t\t//У всех переключателей убираем класс\n\t\t$(sliderNav).find('> *').removeClass('active');\n\t\t//Переключателю под номером * добавляем класс\n\t\t$(sliderNav).find('> *').eq(slider.find('.active_slide').index()).addClass('active');\n\t\t//На последнем слайде делаем активными первый слайд и переключатель\n\t\tif(slider.find('.slider_slide').last().hasClass('active_slide')){\n\t\t\t$(sliderNav).find('> *').first().addClass('active');\n\t\t\tfirstSlide.addClass('active_slide');\n\t\t} \n\t}\n}"],"file":"scripts.js"}